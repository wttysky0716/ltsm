{"ast":null,"code":"import _objectSpread from \"C:/Users/\\u5434\\u5929\\u7FFC/log-analysis-system/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'NavHeader',\n  computed: _objectSpread(_objectSpread({}, mapGetters(['currentUser'])), {}, {\n    username: function username() {\n      return this.currentUser ? this.currentUser.username : '用户';\n    },\n    activeRoute: function activeRoute() {\n      return this.$route.path;\n    }\n  }),\n  methods: {\n    handleCommand: function handleCommand(command) {\n      if (command === 'logout') {\n        this.logout();\n      } else if (command === 'profile') {\n        this.$router.push('/profile');\n      }\n    },\n    logout: function logout() {\n      this.$store.dispatch('logout');\n      this.$router.push('/login');\n      this.$message.success('已退出登录');\n    }\n  }\n};","map":{"version":3,"names":["mapGetters","name","computed","_objectSpread","username","currentUser","activeRoute","$route","path","methods","handleCommand","command","logout","$router","push","$store","dispatch","$message","success"],"sources":["src/components/NavHeader.vue"],"sourcesContent":["<template>\r\n  <el-header class=\"nav-header\">\r\n    <div class=\"logo\">\r\n      <router-link to=\"/\">\r\n        <span class=\"logo-text\">日志态势感知系统</span>\r\n      </router-link>\r\n    </div>\r\n    <div class=\"nav-menu\">\r\n      <el-menu\r\n        :default-active=\"activeRoute\"\r\n        mode=\"horizontal\"\r\n        :router=\"true\"\r\n        background-color=\"#304156\"\r\n        text-color=\"#fff\"\r\n        active-text-color=\"#409EFF\">\r\n        <el-menu-item index=\"/\">首页</el-menu-item>\r\n        <el-menu-item index=\"/upload\">上传日志</el-menu-item>\r\n        <el-menu-item index=\"/files\">日志列表</el-menu-item>\r\n        <el-menu-item index=\"/dashboard\">态势感知</el-menu-item>\r\n      </el-menu>\r\n    </div>\r\n    <div class=\"user-info\">\r\n      <el-dropdown trigger=\"click\" @command=\"handleCommand\">\r\n        <span class=\"el-dropdown-link\">\r\n          <span class=\"username\">{{ username }}</span>\r\n          <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n        </span>\r\n        <el-dropdown-menu slot=\"dropdown\">\r\n          <el-dropdown-item command=\"profile\">个人资料</el-dropdown-item>\r\n          <el-dropdown-item divided command=\"logout\">退出登录</el-dropdown-item>\r\n        </el-dropdown-menu>\r\n      </el-dropdown>\r\n    </div>\r\n  </el-header>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex'\r\n\r\nexport default {\r\n  name: 'NavHeader',\r\n  computed: {\r\n    ...mapGetters(['currentUser']),\r\n    username() {\r\n      return this.currentUser ? this.currentUser.username : '用户'\r\n    },\r\n    activeRoute() {\r\n      return this.$route.path\r\n    }\r\n  },\r\n  methods: {\r\n    handleCommand(command) {\r\n      if (command === 'logout') {\r\n        this.logout()\r\n      } else if (command === 'profile') {\r\n        this.$router.push('/profile')\r\n      }\r\n    },\r\n    logout() {\r\n      this.$store.dispatch('logout')\r\n      this.$router.push('/login')\r\n      this.$message.success('已退出登录')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.nav-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 60px;\r\n  background-color: #304156;\r\n  color: #fff;\r\n  padding: 0 20px;\r\n}\r\n\r\n.logo {\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.logo a {\r\n  text-decoration: none;\r\n  color: #fff;\r\n}\r\n\r\n.logo-text {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n}\r\n\r\n.nav-menu {\r\n  flex: 1;\r\n  margin: 0 20px;\r\n}\r\n\r\n.nav-menu .el-menu {\r\n  border-bottom: none;\r\n}\r\n\r\n.user-info {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.el-dropdown-link {\r\n  color: #fff;\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.username {\r\n  margin-right: 5px;\r\n}\r\n</style> "],"mappings":";;AAqCA,SAAAA,UAAA;AAEA;EACAC,IAAA;EACAC,QAAA,EAAAC,aAAA,CAAAA,aAAA,KACAH,UAAA;IACAI,QAAA,WAAAA,SAAA;MACA,YAAAC,WAAA,QAAAA,WAAA,CAAAD,QAAA;IACA;IACAE,WAAA,WAAAA,YAAA;MACA,YAAAC,MAAA,CAAAC,IAAA;IACA;EAAA,EACA;EACAC,OAAA;IACAC,aAAA,WAAAA,cAAAC,OAAA;MACA,IAAAA,OAAA;QACA,KAAAC,MAAA;MACA,WAAAD,OAAA;QACA,KAAAE,OAAA,CAAAC,IAAA;MACA;IACA;IACAF,MAAA,WAAAA,OAAA;MACA,KAAAG,MAAA,CAAAC,QAAA;MACA,KAAAH,OAAA,CAAAC,IAAA;MACA,KAAAG,QAAA,CAAAC,OAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}